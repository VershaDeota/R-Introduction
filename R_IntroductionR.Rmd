---
title: "Introduction_to_R"
date: "April 12, 2018"
output: html_document
---

Q1: Type in "demo(grapics)" in the R console and then run through the various cases to understand how to plot different types of graphs. 

```{r}
demo(graphics)
```

Q2: Open the file "mountains.txt" in excel or in a flat file editor and take a look at it. Then read it into a dataframe in R. How many rows and columns does the dataframe have? (All data files for the course are in the DSTMAA_data folder.)

```{r}
mydata <- read.csv("mountains.txt", sep=" ", header=TRUE) #Load data seperated by space into dataframe
mydata #display the dataframe
dim(mydata) # Show dimension of the mydata dataframe
nrow(mydata) #Show number of rows in the mydata dataframe
ncol(mydata) #Show number of columns in the mydata dataframe
```
Q3: Write an expression that gives the column names. 

```{r}
colnames(mydata)
```

Q4: Show scatter plots for each pair of variables. Eyeballing your plots, is the correlation between the pairs of variables positive or negative? 

```{r}
plot(mydata$dist,mydata$climb)
plot(mydata$dist,mydata$time)
plot(mydata$climb,mydata$time)
```



The correlation between all the pair of varaibles is positive.

Q5: Check your intuition from Q4 by running the correlation table for the variables in your data set. 

```{r}
cor(mydata)
```
By seeing the table we can varify that our intution concluded in Q4 about positive correlation is right.

Q6: How will you create a vector of all the mountain names in the data set?

```{r}
row.names(mydata)
```

Q7: Plot the scatter plot of distance on the x-axis and time on the y-axis. 

```{r}
plot(mydata$dist,mydata$time, xlab="Distance", ylab="Time")
```

Q8: Run a linear regression of time against distance. Explain your findings by interpreting the various characteristics of the regression output, such as $R^2$, $t$-statistics, $F$-statistic, $p$-values, coefficients, standard errors, etc. 

```{r}
summary(lm(formula=mydata$time ~ mydata$dist, data=mydata))
```
The relationship between time and distance is significant. The slope is positive, with low standard error, hence the $t$-statistic is highly significant. This is also reflected in the $p$-value which is zero, i.e., the probability that the coefficient in the regression is zero is zero. The $R^2$ in the regression is 84% which means that dist explains 84% of the variation in time. The $F$-statistic is very high with a $p$-value of zero, meaning that the regression is well-specified. 

Q9: Add the least squares regression line and color the line blue and make it with a line width of 3. 

```{r}

plot(mydata$time ~ mydata$dist,ylab="Time", xlab="Distance",pch=16)
abline(lm(mydata$time ~ mydata$dist),col=c("blue"),lwd=3,lty=1)
```

Q10: Show the various attributes of the regression output. How many attributes are there? 

```{r}
attributes(lm(mydata$time~mydata$dist, data=mydata))

```
13 attributes are there.

Q11: Using the **magrittr** package run the regression and pass it to the summary function using pipes. 

```{r}
install.packages('magrittr',repos = "http://cran.us.r-project.org")
library(magrittr)
lm(mydata$time~mydata$dist) %>% summary
```

Q12: Create a logical vector using the command: seq(-3,3,length=200) > 0

```{r}
vec <- seq(-3,3,length=200) > 0
vec
```

Q13: Negate this vector using the negation operator "!". 

```{r}
!vec
```

Q14: Compute the truth table for logical AND
with the following command: 
c(T,T,F,F) & c(T,F,F,T)
and interpret the result. 

```{r}
c(T,T,F,F) & c(T,F,F,T)
summary(c(T,T,F,F) & c(T,F,F,T))
```
as per the Truth table, True AND True=True, True AND FALSE= False, False AND FALSE= False,False AND True= False

Q15: Explore arithmetic with logical and numeric operators with the following command, and interpret and explain the output: 
1:3 + c(T,F,T)

```{r}
1:3 + c(T,F,T) #Run
```
[1] 2 2 4 This is the ouput we get. Will consider T=1 F=0, so if we compute we get this result.

Q16: Compute the intersection of {1, 2, . . . , 10} and {5, 6, . . . , 15}

```{r}
intersect(1:10,5:15)
```

Q17: Create a factor using the following command:
drinks <- factor(c("beer","beer","wine","water"))

```{r}
drinks <- factor(c("beer","beer","wine","water"))
drinks
```

Q18: Examine the representation of the factor
unclass(drinks)
and interpret the result, with an explanation.

```{r}
unclass(drinks)
```
Here drinks has 4 elements. So when we run this command we get the index.
the index is 1,1,3,2
the level is associated with each index 1->"beer", 2->"wine", 3->"water"

Q19: Construct a 2Ã—2 data frame, X say. Give it column names {One, Two}. Experiment with X^(1:K), where K takes values 1:4. How does the recycling rule behave? Explain what you see. 

```{r}
n<-c(2,2)
m<-c(2,2)
x = data.frame(n,m)
colnames(x)<- c("one", "two")
x^(1:4)
```
As per the recycling rule if  two vectors are of unequal length, the shorter one will be recycled in order to match the longer vector. In this case the matrix by default is filled column-wise and not row-wise.

Q20: The function system.time returns timings for R operations. Examine the help system about this
function. For a $10^7 \times 2$ matrix, X, and vector y of length $10^7 \times 1$ compute (a number of times) $X^\top y$ using matrix multiplication and the function **crossprod**. Which is quicker? Why? 

```{r}
Y=runif(10000000)
Z=runif(10000000)
X=as.matrix(Y,Z)

system.time(t(X)%*%Y)

system.time(crossprod(X,Y))

```
Crossprod is less time consuming because Crossprod avoids all explicit matrix transposition. Crossprod(A, B) is cheaper than t(A) % $*$ % B, as the latter needs an explicit matrix. In general cases, Crossprod works well but t(A) %$*$% B works better with dense matrix.

Q21: Given that 

$$
A = \left[ \begin{array}{2} 3 & 2 \\ 2 & 4 \end{array}   \right],  \quad B = \left[ \begin{array}{1} 3 \\  4 \end{array}   \right]
$$

What is the value of ${\bf A}^{-1} {\bf A} {\bf B}$?

```{r}
A=matrix(c(3,2,2,4),2,2)
B= matrix(c(3,4),2,1)
print(solve(A) %*%A%*%B)

```

Q22: Using the same definitions of ${\bf A}$ and ${\bf B}$ above, and given that 

$$
{\bf w} =  \left[ \begin{array}{1} w_1 \\  w_2 \end{array}   \right]
$$

What is the dimension of $({\bf w}^\top {\bf B})({\bf A}{\bf A}{\bf A}^{-1}{\bf B})$?

ANS: $({\bf w}^\top {\bf B})$  will give a scaler value but R will treat it as vector of 1 by 1. $({\bf A}{\bf A}{\bf A}^{-1}{\bf B})$ will give matrix of 2 by 1.


So instead of multiplying a scalar value and a vector of 2 by 1, 
R will try to multiply vector of 1 by 1 to vector of 2 by 1 which will throw an error of non-conformable arguments as mentioned below
```{r}
W= matrix(c(3,4),2,1)

#print(((t(W)%*%B))%*%(A%*%A%*%B)) This will give the below error
#Error in ((t(W) %*% B)) %*% (A %*% A %*% B) : non-conformable arguments
```
Q23: Read this file from the web using the following command:

lines = readLines("http://www.just-pooh.com/tao.html")

What sort of data object is "lines"?

```{r}
lines = readLines("http://www.just-pooh.com/tao.html")
typeof(lines)
```
The data object type is character.

Q24: How many lines are there on this web page?

```{r}
length(lines)
```

Q25: Convert this data object for the web page into a **list** object and then print out the 121st line of the web page from this list object. 

```{r}
line_list <-as.list(lines)
print(line_list[121])
```

